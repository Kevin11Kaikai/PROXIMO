# `test_proximo_api.py` æµ‹è¯•è„šæœ¬å®Œæ•´å·¥ä½œæµç¨‹è§£æ

æœ¬æ–‡æ¡£è¯¦ç»†è§£é‡Šæµ‹è¯•è„šæœ¬ä»è¾“å…¥ç”¨ä¾‹ç¼–å†™ã€æ•°æ®å¤„ç†åˆ°ç»“æœè¾“å‡ºçš„å®Œæ•´æµç¨‹ã€‚

---

## ğŸ“‹ ç›®å½•

1. [æ•´ä½“æ¶æ„](#æ•´ä½“æ¶æ„)
2. [é˜¶æ®µä¸€ï¼šè¾“å…¥ç”¨ä¾‹è®¾è®¡](#é˜¶æ®µä¸€è¾“å…¥ç”¨ä¾‹è®¾è®¡)
3. [é˜¶æ®µäºŒï¼šæ•°æ®å¤„ç†æµç¨‹](#é˜¶æ®µäºŒæ•°æ®å¤„ç†æµç¨‹)
4. [é˜¶æ®µä¸‰ï¼šç»“æœéªŒè¯ä¸è¾“å‡º](#é˜¶æ®µä¸‰ç»“æœéªŒè¯ä¸è¾“å‡º)
5. [å®Œæ•´æ‰§è¡Œæµç¨‹å›¾](#å®Œæ•´æ‰§è¡Œæµç¨‹å›¾)

---

## æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æµ‹è¯•è„šæœ¬æ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ã€é˜¶æ®µä¸€ï¼šè¾“å…¥ç”¨ä¾‹è®¾è®¡ã€‘                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æµ‹è¯•ç”¨ä¾‹æ•°æ®å­—å…¸ (PHQ9_TEST_CASES, GAD7_TEST_CASES) â”‚   â”‚
â”‚  â”‚ - responses: åŸå§‹å›ç­”åˆ—è¡¨                           â”‚   â”‚
â”‚  â”‚ - expected_score_range: é¢„æœŸåˆ†æ•°èŒƒå›´                â”‚   â”‚
â”‚  â”‚ - expected_severity: é¢„æœŸä¸¥é‡åº¦                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â–¼                                 â”‚
â”‚  ã€é˜¶æ®µäºŒï¼šæ•°æ®å¤„ç†æµç¨‹ã€‘                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. è°ƒç”¨ assess() API                                â”‚   â”‚
â”‚  â”‚ 2. è·å–è¯„ä¼°ç»“æœ (Dict[str, Any])                    â”‚   â”‚
â”‚  â”‚ 3. æ ¼å¼åŒ–è¾“å‡º (print_result)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â–¼                                 â”‚
â”‚  ã€é˜¶æ®µä¸‰ï¼šç»“æœéªŒè¯ä¸è¾“å‡ºã€‘                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. éªŒè¯ç»“æœ (validate_result)                       â”‚   â”‚
â”‚  â”‚ 2. æ”¶é›†æµ‹è¯•ç»“æœ (all_passed)                        â”‚   â”‚
â”‚  â”‚ 3. ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š (run_all_tests)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é˜¶æ®µä¸€ï¼šè¾“å…¥ç”¨ä¾‹è®¾è®¡

### 1.1 ç”¨ä¾‹æ•°æ®ç»“æ„

æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```python
{
    "ç”¨ä¾‹åç§°": {
        "responses": List[str],           # åŸå§‹å›ç­”åˆ—è¡¨ï¼ˆè¾“å…¥ï¼‰
        "expected_score_range": Tuple,    # é¢„æœŸåˆ†æ•°èŒƒå›´ï¼ˆéªŒè¯æ ‡å‡†ï¼‰
        "expected_severity": str,         # é¢„æœŸä¸¥é‡åº¦ï¼ˆå¯é€‰ï¼ŒéªŒè¯æ ‡å‡†ï¼‰
        "expected_suicidal_risk": str     # é¢„æœŸè‡ªæ€é£é™©ï¼ˆä»… PHQ-9ï¼Œå¯é€‰ï¼‰
    }
}
```

### 1.2 PHQ-9 ç”¨ä¾‹è®¾è®¡ç¤ºä¾‹

#### ç”¨ä¾‹ 1: "æ­£å¸¸" - æµ‹è¯•ä½åˆ†æƒ…å†µ

```python
"æ­£å¸¸": {
    "responses": ["0", "0", "1", "1", "0", "1", "0", "1", "0"],
    # è§£é‡Šï¼š
    # - 9 ä¸ªå›ç­”ï¼ˆPHQ-9 éœ€è¦ 9 ä¸ªï¼‰
    # - åˆ†æ•°: 0+0+1+1+0+1+0+1+0 = 4 åˆ†
    # - é¢„æœŸèŒƒå›´: (0, 10) â†’ minimal ä¸¥é‡åº¦
    
    "expected_score_range": (0, 10),      # 4 åˆ†åº”è¯¥åœ¨ 0-10 ä¹‹é—´
    "expected_severity": "minimal"        # é¢„æœŸä¸¥é‡åº¦ä¸º minimal
}
```

**è®¾è®¡æ€è·¯**ï¼š
- âœ… è¦†ç›–ä½åˆ†åœºæ™¯ï¼ˆæ­£å¸¸äººç¾¤ï¼‰
- âœ… éªŒè¯åŸºç¡€åŠŸèƒ½æ˜¯å¦æ­£å¸¸
- âœ… ç¡®ä¿åˆ†æ•°è®¡ç®—æ­£ç¡®

#### ç”¨ä¾‹ 2: "è½»åº¦æŠ‘éƒ" - æµ‹è¯•è¾¹ç•Œå€¼

```python
"è½»åº¦æŠ‘éƒ": {
    "responses": ["1", "1", "2", "2", "1", "2", "1", "2", "0"],
    # åˆ†æ•°: 1+1+2+2+1+2+1+2+0 = 12 åˆ†
    # é¢„æœŸèŒƒå›´: (10, 15) â†’ mild ä¸¥é‡åº¦
    
    "expected_score_range": (10, 15),
    "expected_severity": "mild"
}
```

**è®¾è®¡æ€è·¯**ï¼š
- âœ… æµ‹è¯• mild çº§åˆ«çš„è¾¹ç•Œå€¼
- âœ… éªŒè¯ä¸¥é‡åº¦åˆ†çº§é€»è¾‘
- âœ… è¦†ç›–ä¸­ç­‰åˆ†æ•°åœºæ™¯

#### ç”¨ä¾‹ 3: "è‡ªæ€æ„å¿µé«˜é£é™©" - æµ‹è¯•å…³é”®é£é™©æ£€æµ‹

```python
"è‡ªæ€æ„å¿µé«˜é£é™©": {
    "responses": ["2", "2", "2", "2", "2", "2", "2", "2", "2"],
    # Item 9 (æœ€åä¸€ä¸ª) = 2 â†’ é«˜é£é™©
    # åˆ†æ•°: 2*9 = 18 åˆ†
    
    "expected_score_range": (15, 27),
    "expected_severity": "moderate",  # æˆ– severe
    "expected_suicidal_risk": "high"  # âš ï¸ å…³é”®ï¼šéªŒè¯è‡ªæ€æ„å¿µæ£€æµ‹
}
```

**è®¾è®¡æ€è·¯**ï¼š
- âš ï¸ **æœ€é‡è¦ç”¨ä¾‹**ï¼šæµ‹è¯•è‡ªæ€æ„å¿µæ£€æµ‹ï¼ˆItem 9 â‰¥ 2ï¼‰
- âœ… éªŒè¯é£é™©çº§åˆ«æ˜¯å¦æ­£ç¡®å‡çº§ä¸º `critical`
- âœ… ç¡®ä¿å®‰å…¨åŠŸèƒ½æ­£å¸¸å·¥ä½œ

#### ç”¨ä¾‹ 4: "è‡ªç„¶è¯­è¨€è¾“å…¥" - æµ‹è¯•é²æ£’æ€§

```python
"è‡ªç„¶è¯­è¨€è¾“å…¥": {
    "responses": [
        "not at all", "never", "several days", "sometimes",
        "more than half the days", "often", "nearly every day", "always", "0"
    ],
    # æµ‹è¯•è‡ªç„¶è¯­è¨€åˆ°æ•°å­—çš„æ˜ å°„
    # éªŒè¯æ–‡æœ¬è¯­ä¹‰ç†è§£åŠŸèƒ½
    
    "expected_score_range": (0, 27),
    "expected_severity": None  # ä¸å›ºå®šï¼Œå› ä¸ºè‡ªç„¶è¯­è¨€æ˜ å°„å¯èƒ½æœ‰å˜åŒ–
}
```

**è®¾è®¡æ€è·¯**ï¼š
- âœ… æµ‹è¯•è‡ªç„¶è¯­è¨€å¤„ç†èƒ½åŠ›
- âœ… éªŒè¯è¯­ä¹‰æ˜ å°„ï¼ˆ"not at all" â†’ 0, "several days" â†’ 1ï¼‰
- âœ… ç¡®ä¿ API çš„é²æ£’æ€§

### 1.3 GAD-7 å’Œ PSS-10 ç”¨ä¾‹è®¾è®¡

**GAD-7** (7 ä¸ªå›ç­”)ï¼š
```python
"æ­£å¸¸": {
    "responses": ["0", "0", "1", "0", "1", "0", "0"],  # 7 ä¸ª
    "expected_score_range": (0, 5),
    "expected_severity": "minimal"
}
```

**PSS-10** (10 ä¸ªå›ç­”ï¼Œå«åå‘è®¡åˆ†)ï¼š
```python
"æ­£å¸¸": {
    "responses": ["0", "1", "0", "4", "3", "1", "0", "4", "2", "1"],  # 10 ä¸ª
    # æ³¨æ„ï¼šé¢˜ç›® 4, 5, 7, 8 éœ€è¦åå‘è®¡åˆ†
    "expected_score_range": (0, 20),
    "expected_severity": "minimal"
}
```

---

## é˜¶æ®µäºŒï¼šæ•°æ®å¤„ç†æµç¨‹

### 2.1 å•ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  å•ä¸ªç”¨ä¾‹å¤„ç†æµç¨‹                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ­¥éª¤ 1: å‡†å¤‡è¾“å…¥æ•°æ®
â”œâ”€ ä»æµ‹è¯•ç”¨ä¾‹å­—å…¸æå– responses
â”œâ”€ è·å–é¢„æœŸç»“æœ (expected_score_range, expected_severity)
â””â”€ æ‰“å°ç”¨ä¾‹åç§°

æ­¥éª¤ 2: è°ƒç”¨ API
â”œâ”€ result = await assess("phq9", responses)
â”‚  â””â”€ å†…éƒ¨æµç¨‹ï¼š
â”‚     â”œâ”€ å‚æ•°éªŒè¯ï¼ˆé‡è¡¨ç±»å‹ã€å›ç­”æ•°é‡ï¼‰
â”‚     â”œâ”€ åˆ›å»ºæœ€å° Persona å¯¹è±¡
â”‚     â”œâ”€ è°ƒç”¨ AssessmentOrchestrator
â”‚     â”‚  â”œâ”€ Stage 1: æ–‡æœ¬éªŒè¯ä¸æ ‡å‡†åŒ–
â”‚     â”‚  â”œâ”€ Stage 2: åˆ†æ•°è®¡ç®—ä¸ç»“æœç”Ÿæˆ
â”‚     â”‚  â””â”€ Stage 3: ä¸´åºŠè§£é‡Šä¸é£é™©è¯„ä¼°
â”‚     â””â”€ è¿”å›ç»“æœå­—å…¸
â”‚
æ­¥éª¤ 3: æ ¼å¼åŒ–è¾“å‡º
â”œâ”€ print_result(result, verbose=False)
â”‚  â”œâ”€ æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ï¼ˆé‡è¡¨ç±»å‹ã€æ€»åˆ†ã€ä¸¥é‡åº¦ï¼‰
â”‚  â”œâ”€ æ˜¾ç¤ºé£é™©æ ‡å¿—ï¼ˆsuicidal_ideation, severe_symptomsï¼‰
â”‚  â”œâ”€ æ˜¾ç¤ºä¸´åºŠå»ºè®®ï¼ˆå‰ 3 æ¡ï¼‰
â”‚  â””â”€ å¯é€‰ï¼šæ˜¾ç¤ºæ¯é¢˜åˆ†æ•°ï¼ˆverbose=True æ—¶ï¼‰
â”‚
æ­¥éª¤ 4: éªŒè¯ç»“æœ
â”œâ”€ validate_result(result, test_case)
â”‚  â”œâ”€ æ£€æŸ¥ success æ ‡å¿—
â”‚  â”œâ”€ éªŒè¯æ€»åˆ†æ˜¯å¦åœ¨é¢„æœŸèŒƒå›´å†…
â”‚  â”œâ”€ éªŒè¯ä¸¥é‡åº¦æ˜¯å¦åŒ¹é…ï¼ˆå¯é€‰ï¼Œå…è®¸è­¦å‘Šï¼‰
â”‚  â”œâ”€ éªŒè¯è‡ªæ€é£é™©ï¼ˆä»… PHQ-9ï¼Œå¿…é¡»åŒ¹é…ï¼‰
â”‚  â””â”€ è¿”å› True/False
â”‚
æ­¥éª¤ 5: æ”¶é›†ç»“æœ
â””â”€ å¦‚æœéªŒè¯å¤±è´¥ï¼Œè®¾ç½® all_passed = False
```

### 2.2 å…³é”®å‡½æ•°è§£æ

#### å‡½æ•° 1: `print_result()` - æ ¼å¼åŒ–è¾“å‡º

```python
def print_result(result: Dict[str, Any], verbose: bool = True):
    """
    è¾“å…¥: 
        - result: assess() è¿”å›çš„ç»“æœå­—å…¸
        - verbose: æ˜¯å¦æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ˆæ¯é¢˜åˆ†æ•°ï¼‰
    
    å¤„ç†:
        1. æ£€æŸ¥ success æ ‡å¿—
        2. æå–å¹¶æ ¼å¼åŒ–æ˜¾ç¤ºå…³é”®ä¿¡æ¯
        3. æ˜¾ç¤ºé£é™©æ ‡å¿—å’Œä¸´åºŠå»ºè®®
    
    è¾“å‡º:
        - æ§åˆ¶å°è¾“å‡ºï¼ˆæ ¼å¼åŒ–æ–‡æœ¬ï¼‰
    """
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
[OK] è¯„ä¼°æˆåŠŸ
   é‡è¡¨ç±»å‹: phq9
   æ€»åˆ†: 12.0
   ä¸¥é‡åº¦: moderate
   é£é™©çº§åˆ«: low
   é£é™©æ ‡å¿—:
     - suicidal_ideation: False
     - suicidal_ideation_score: 0
     - severe_symptoms: False
   è‡ªæ€æ„å¿µé£é™©: low
   ä¸´åºŠå»ºè®®:
     1. Consider professional evaluation
     2. Implement coping strategies
```

#### å‡½æ•° 2: `validate_result()` - ç»“æœéªŒè¯

```python
def validate_result(result: Dict[str, Any], expected: Dict[str, Any]) -> bool:
    """
    è¾“å…¥:
        - result: å®é™…è¯„ä¼°ç»“æœ
        - expected: é¢„æœŸç»“æœï¼ˆæµ‹è¯•ç”¨ä¾‹ï¼‰
    
    å¤„ç†æµç¨‹:
        Stage 1: æ£€æŸ¥ success æ ‡å¿—
        â”œâ”€ å¦‚æœå¤±è´¥ â†’ è¿”å› False
        
        Stage 2: éªŒè¯åˆ†æ•°èŒƒå›´
        â”œâ”€ æå– total_score
        â”œâ”€ æ£€æŸ¥æ˜¯å¦åœ¨ expected_score_range å†…
        â””â”€ å¦‚æœè¶…å‡ºèŒƒå›´ â†’ è¿”å› False
        
        Stage 3: éªŒè¯ä¸¥é‡åº¦ï¼ˆå¯é€‰ï¼‰
        â”œâ”€ å¦‚æœ expected_severity å­˜åœ¨
        â”œâ”€ æ¯”è¾ƒ actual_severity ä¸ expected_severity
        â””â”€ å¦‚æœä¸åŒ¹é… â†’ æ‰“å°è­¦å‘Šï¼ˆä½†ä¸å¤±è´¥ï¼‰
        
        Stage 4: éªŒè¯è‡ªæ€é£é™©ï¼ˆä»… PHQ-9ï¼‰
        â”œâ”€ å¦‚æœ expected_suicidal_risk å­˜åœ¨
        â”œâ”€ æ¯”è¾ƒ actual_risk ä¸ expected_risk
        â””â”€ å¦‚æœä¸åŒ¹é… â†’ è¿”å› False
        
        Stage 5: éªŒè¯é€šè¿‡
        â””â”€ è¿”å› True
    
    è¾“å‡º:
        - bool: True è¡¨ç¤ºéªŒè¯é€šè¿‡ï¼ŒFalse è¡¨ç¤ºå¤±è´¥
    """
```

**éªŒè¯é€»è¾‘ç¤ºä¾‹**ï¼š
```python
# ç¤ºä¾‹ 1: æ­£å¸¸æƒ…å†µ
result = {"total_score": 4.0, "severity_level": "minimal", "success": True}
expected = {"expected_score_range": (0, 10), "expected_severity": "minimal"}
# â†’ âœ… é€šè¿‡ï¼š4.0 åœ¨ (0, 10) å†…ï¼Œä¸¥é‡åº¦åŒ¹é…

# ç¤ºä¾‹ 2: åˆ†æ•°è¶…å‡ºèŒƒå›´
result = {"total_score": 15.0, "severity_level": "moderate", "success": True}
expected = {"expected_score_range": (0, 10)}
# â†’ âŒ å¤±è´¥ï¼š15.0 ä¸åœ¨ (0, 10) å†…

# ç¤ºä¾‹ 3: ä¸¥é‡åº¦ä¸åŒ¹é…ï¼ˆè­¦å‘Šä½†ä¸å¤±è´¥ï¼‰
result = {"total_score": 12.0, "severity_level": "moderate", "success": True}
expected = {"expected_score_range": (10, 15), "expected_severity": "mild"}
# â†’ âš ï¸ è­¦å‘Šï¼šä¸¥é‡åº¦ moderate ä¸é¢„æœŸ mild ä¸åŒ¹é…ï¼ˆå¯èƒ½æ˜¯åˆç†çš„ï¼‰
# â†’ âœ… ä»ç„¶é€šè¿‡ï¼šåˆ†æ•°èŒƒå›´æ­£ç¡®
```

---

## é˜¶æ®µä¸‰ï¼šç»“æœéªŒè¯ä¸è¾“å‡º

### 3.1 æµ‹è¯•å‡½æ•°æ‰§è¡Œæµç¨‹

#### ç¤ºä¾‹ï¼š`test_phq9()` å‡½æ•°

```python
async def test_phq9():
    """
    æ‰§è¡Œæµç¨‹:
    
    Stage 1: åˆå§‹åŒ–
    â”œâ”€ æ‰“å°æµ‹è¯•æ ‡é¢˜
    â”œâ”€ åˆå§‹åŒ– all_passed = True
    
    Stage 2: éå†æ‰€æœ‰ç”¨ä¾‹
    â”œâ”€ for case_name, test_case in PHQ9_TEST_CASES.items():
    â”‚  â”œâ”€ æå– responses
    â”‚  â”œâ”€ è°ƒç”¨ assess("phq9", responses)
    â”‚  â”œâ”€ æ ¼å¼åŒ–è¾“å‡ºç»“æœ
    â”‚  â”œâ”€ éªŒè¯ç»“æœ
    â”‚  â””â”€ å¦‚æœéªŒè¯å¤±è´¥ï¼Œè®¾ç½® all_passed = False
    â”‚
    Stage 3: å¼‚å¸¸å¤„ç†
    â”œâ”€ æ•è·ä»»ä½•å¼‚å¸¸
    â””â”€ å¦‚æœå¼‚å¸¸å‘ç”Ÿï¼Œè®¾ç½® all_passed = False
    
    Stage 4: è¿”å›ç»“æœ
    â””â”€ return all_passed  # True æˆ– False
    """
```

### 3.2 æµ‹è¯•å¥—ä»¶æ‰§è¡Œæµç¨‹

#### `run_all_tests()` å‡½æ•°

```python
async def run_all_tests():
    """
    æ‰§è¡Œæµç¨‹:
    
    Stage 1: åˆå§‹åŒ–
    â”œâ”€ æ‰“å°æµ‹è¯•å¥—ä»¶æ ‡é¢˜
    â”œâ”€ åˆå§‹åŒ– results å­—å…¸
    
    Stage 2: æ‰§è¡Œæ‰€æœ‰æµ‹è¯•
    â”œâ”€ results["PHQ-9"] = await test_phq9()
    â”œâ”€ results["GAD-7"] = await test_gad7()
    â”œâ”€ results["PSS-10"] = await test_pss10()
    â”œâ”€ results["ä¾¿æ·å‡½æ•°"] = await test_convenience_functions()
    â”œâ”€ results["é”™è¯¯å¤„ç†"] = await test_error_handling()
    â”œâ”€ results["é£é™©æ£€æµ‹"] = await test_risk_detection()
    â”œâ”€ results["åŒæ­¥ç‰ˆæœ¬"] = test_sync_version()
    â””â”€ results["è¾“å‡ºç»“æ„"] = await test_output_structure()
    
    Stage 3: ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
    â”œâ”€ ç»Ÿè®¡é€šè¿‡/å¤±è´¥çš„æµ‹è¯•æ•°é‡
    â”œâ”€ æ‰“å°æ¯ä¸ªæµ‹è¯•çš„çŠ¶æ€
    â”œâ”€ æ‰“å°æ€»è®¡å’Œæœ€ç»ˆç»“æœ
    â””â”€ è¿”å›é€€å‡ºç  (0 è¡¨ç¤ºå…¨éƒ¨é€šè¿‡ï¼Œ1 è¡¨ç¤ºæœ‰å¤±è´¥)
    """
```

### 3.3 è¾“å‡ºæ ¼å¼

#### æµ‹è¯•æŠ¥å‘Šç¤ºä¾‹

```
================================================================================
æµ‹è¯•æ€»ç»“
================================================================================
PHQ-9: [OK] é€šè¿‡
GAD-7: [OK] é€šè¿‡
PSS-10: [OK] é€šè¿‡
ä¾¿æ·å‡½æ•°: [OK] é€šè¿‡
é”™è¯¯å¤„ç†: [OK] é€šè¿‡
é£é™©æ£€æµ‹: [OK] é€šè¿‡
åŒæ­¥ç‰ˆæœ¬: [OK] é€šè¿‡
è¾“å‡ºç»“æ„: [OK] é€šè¿‡

æ€»è®¡: 8/8 æµ‹è¯•é€šè¿‡

[SUCCESS] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼
```

---

## å®Œæ•´æ‰§è¡Œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å®Œæ•´æ‰§è¡Œæµç¨‹å›¾                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¼€å§‹
 â”‚
 â”œâ”€ [åˆå§‹åŒ–é˜¶æ®µ]
 â”‚  â”œâ”€ è®¾ç½® UTF-8 ç¼–ç ï¼ˆWindows å…¼å®¹ï¼‰
 â”‚  â”œâ”€ é…ç½®æ—¥å¿—çº§åˆ«ï¼ˆæŠ‘åˆ¶é”™è¯¯æ—¥å¿—ï¼‰
 â”‚  â””â”€ å¯¼å…¥æµ‹è¯•å‡½æ•°å’Œ API
 â”‚
 â”œâ”€ [ä¸»å‡½æ•°: run_all_tests()]
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 1: PHQ-9 è¯„ä¼°æµ‹è¯•]
 â”‚  â”‚  â”œâ”€ test_phq9()
 â”‚  â”‚  â”‚  â”œâ”€ éå† PHQ9_TEST_CASES
 â”‚  â”‚  â”‚  â”‚  â”œâ”€ ç”¨ä¾‹ 1: "æ­£å¸¸"
 â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ assess("phq9", ["0", "0", ...])
 â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ print_result(result)
 â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ validate_result(result, expected)
 â”‚  â”‚  â”‚  â”‚  â”œâ”€ ç”¨ä¾‹ 2: "è½»åº¦æŠ‘éƒ"
 â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ ... (åŒä¸Š)
 â”‚  â”‚  â”‚  â”‚  â””â”€ ç”¨ä¾‹ 6: "è‡ªç„¶è¯­è¨€è¾“å…¥"
 â”‚  â”‚  â”‚  â”‚      â””â”€ ... (åŒä¸Š)
 â”‚  â”‚  â”‚  â””â”€ return all_passed
 â”‚  â”‚  â””â”€ results["PHQ-9"] = True/False
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 2: GAD-7 è¯„ä¼°æµ‹è¯•]
 â”‚  â”‚  â””â”€ test_gad7() â†’ results["GAD-7"]
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 3: PSS-10 è¯„ä¼°æµ‹è¯•]
 â”‚  â”‚  â””â”€ test_pss10() â†’ results["PSS-10"]
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 4: ä¾¿æ·å‡½æ•°æµ‹è¯•]
 â”‚  â”‚  â”œâ”€ test_convenience_functions()
 â”‚  â”‚  â”‚  â”œâ”€ assess_phq9(responses)
 â”‚  â”‚  â”‚  â”œâ”€ assess_gad7(responses)
 â”‚  â”‚  â”‚  â””â”€ assess_pss10(responses)
 â”‚  â”‚  â””â”€ results["ä¾¿æ·å‡½æ•°"] = True/False
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 5: é”™è¯¯å¤„ç†æµ‹è¯•]
 â”‚  â”‚  â”œâ”€ test_error_handling()
 â”‚  â”‚  â”‚  â”œâ”€ assess("invalid_scale", ...) â†’ åº”è¿”å›é”™è¯¯
 â”‚  â”‚  â”‚  â”œâ”€ assess("phq9", [7ä¸ªå›ç­”]) â†’ åº”è¿”å›é”™è¯¯
 â”‚  â”‚  â”‚  â””â”€ assess("phq9", []) â†’ åº”è¿”å›é”™è¯¯
 â”‚  â”‚  â””â”€ results["é”™è¯¯å¤„ç†"] = True/False
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 6: é£é™©æ£€æµ‹æµ‹è¯•]
 â”‚  â”‚  â”œâ”€ test_risk_detection()
 â”‚  â”‚  â”‚  â”œâ”€ æµ‹è¯•è‡ªæ€æ„å¿µæ£€æµ‹ (Item 9 = 2)
 â”‚  â”‚  â”‚  â””â”€ æµ‹è¯•ä¸¥é‡ç—‡çŠ¶æ£€æµ‹ (æ€»åˆ† â‰¥ 20)
 â”‚  â”‚  â””â”€ results["é£é™©æ£€æµ‹"] = True/False
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 7: åŒæ­¥ç‰ˆæœ¬æµ‹è¯•]
 â”‚  â”‚  â”œâ”€ test_sync_version()
 â”‚  â”‚  â”‚  â””â”€ assess_sync() â†’ åº”æ£€æµ‹åˆ°å¼‚æ­¥ä¸Šä¸‹æ–‡å¹¶æ‹’ç»
 â”‚  â”‚  â””â”€ results["åŒæ­¥ç‰ˆæœ¬"] = True/False
 â”‚  â”‚
 â”‚  â”œâ”€ [æµ‹è¯• 8: è¾“å‡ºç»“æ„éªŒè¯]
 â”‚  â”‚  â”œâ”€ test_output_structure()
 â”‚  â”‚  â”‚  â”œâ”€ æ£€æŸ¥å¿…éœ€å­—æ®µæ˜¯å¦å­˜åœ¨
 â”‚  â”‚  â”‚  â”œâ”€ æ£€æŸ¥åµŒå¥—ç»“æ„ï¼ˆclinical_interpretation, flagsï¼‰
 â”‚  â”‚  â”‚  â””â”€ éªŒè¯å­—æ®µå®Œæ•´æ€§
 â”‚  â”‚  â””â”€ results["è¾“å‡ºç»“æ„"] = True/False
 â”‚  â”‚
 â”‚  â””â”€ [ç”ŸæˆæŠ¥å‘Š]
 â”‚     â”œâ”€ ç»Ÿè®¡ passed_tests / total_tests
 â”‚     â”œâ”€ æ‰“å°æ¯ä¸ªæµ‹è¯•çš„çŠ¶æ€
 â”‚     â”œâ”€ æ‰“å°æ€»è®¡
 â”‚     â””â”€ è¿”å›é€€å‡ºç 
 â”‚
 â””â”€ ç»“æŸ (é€€å‡ºç : 0 æˆ– 1)
```

---

## ğŸ“Š æ•°æ®æµè½¬ç¤ºä¾‹

### å®Œæ•´æ•°æ®æµï¼šä»è¾“å…¥åˆ°è¾“å‡º

```
ã€è¾“å…¥ã€‘æµ‹è¯•ç”¨ä¾‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "è½»åº¦æŠ‘éƒ": {                        â”‚
â”‚   "responses": ["1", "1", "2", ...],â”‚
â”‚   "expected_score_range": (10, 15), â”‚
â”‚   "expected_severity": "mild"       â”‚
â”‚ }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
ã€å¤„ç†ã€‘è°ƒç”¨ API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ result = await assess("phq9",       â”‚
â”‚                       ["1", "1", ...])â”‚
â”‚                                      â”‚
â”‚ å†…éƒ¨å¤„ç†:                            â”‚
â”‚ 1. å‚æ•°éªŒè¯ âœ“                        â”‚
â”‚ 2. æ–‡æœ¬æ ‡å‡†åŒ–: ["1", "1", ...] â†’    â”‚
â”‚    [1, 1, 2, 2, 1, 2, 1, 2, 0]      â”‚
â”‚ 3. è®¡ç®—æ€»åˆ†: 12.0                    â”‚
â”‚ 4. ä¸¥é‡åº¦åˆ†çº§: moderate              â”‚
â”‚ 5. ä¸´åºŠè§£é‡Šç”Ÿæˆ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
ã€è¾“å‡ºã€‘è¯„ä¼°ç»“æœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {                                    â”‚
â”‚   "success": True,                  â”‚
â”‚   "scale": "phq9",                  â”‚
â”‚   "total_score": 12.0,              â”‚
â”‚   "severity_level": "moderate",     â”‚
â”‚   "risk_level": "low",              â”‚
â”‚   "parsed_scores": [1, 1, 2, ...],  â”‚
â”‚   "flags": {                        â”‚
â”‚     "suicidal_ideation": False,     â”‚
â”‚     "severe_symptoms": False        â”‚
â”‚   },                                 â”‚
â”‚   "clinical_interpretation": {      â”‚
â”‚     "recommendations": [...],       â”‚
â”‚     "risk_factors": []              â”‚
â”‚   }                                  â”‚
â”‚ }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
ã€éªŒè¯ã€‘æ£€æŸ¥ç»“æœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ validate_result(result, expected):  â”‚
â”‚                                      â”‚
â”‚ 1. success == True? âœ“                â”‚
â”‚ 2. 12.0 åœ¨ (10, 15) å†…? âœ“            â”‚
â”‚ 3. "moderate" == "mild"? âš ï¸ è­¦å‘Š     â”‚
â”‚    (ä½†å…è®¸ï¼Œå› ä¸ºè¾¹ç•Œå€¼å¯èƒ½å˜åŒ–)       â”‚
â”‚ 4. è¿”å› True                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
ã€æœ€ç»ˆè¾“å‡ºã€‘æµ‹è¯•æŠ¥å‘Š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [OK] è¯„ä¼°æˆåŠŸ                        â”‚
â”‚   é‡è¡¨ç±»å‹: phq9                     â”‚
â”‚   æ€»åˆ†: 12.0                         â”‚
â”‚   ä¸¥é‡åº¦: moderate                   â”‚
â”‚   é£é™©çº§åˆ«: low                      â”‚
â”‚ [WARN] è­¦å‘Š: ä¸¥é‡åº¦ moderate ä¸é¢„æœŸ  â”‚
â”‚          mild ä¸åŒ¹é…ï¼ˆå¯èƒ½æ˜¯åˆç†çš„ï¼‰  â”‚
â”‚ [OK] éªŒè¯é€šè¿‡                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å…³é”®è®¾è®¡ç‚¹

### 1. æµ‹è¯•ç”¨ä¾‹è®¾è®¡çš„ä¸‰ä¸ªå±‚æ¬¡

```
å±‚æ¬¡ 1: æ­£å¸¸æƒ…å†µæµ‹è¯•
â”œâ”€ è¦†ç›–å¸¸è§åœºæ™¯
â”œâ”€ éªŒè¯åŸºæœ¬åŠŸèƒ½
â””â”€ ç¡®ä¿ API æ­£å¸¸å·¥ä½œ

å±‚æ¬¡ 2: è¾¹ç•Œæƒ…å†µæµ‹è¯•
â”œâ”€ æµ‹è¯•é˜ˆå€¼è¾¹ç•Œï¼ˆå¦‚ 10 åˆ†ã€15 åˆ†ã€20 åˆ†ï¼‰
â”œâ”€ éªŒè¯åˆ†çº§é€»è¾‘
â””â”€ ç¡®ä¿è¾¹ç•Œå€¼å¤„ç†æ­£ç¡®

å±‚æ¬¡ 3: å¼‚å¸¸æƒ…å†µæµ‹è¯•
â”œâ”€ æ— æ•ˆè¾“å…¥ï¼ˆé”™è¯¯é‡è¡¨ã€é”™è¯¯æ•°é‡ï¼‰
â”œâ”€ æç«¯æƒ…å†µï¼ˆç©ºåˆ—è¡¨ã€å…¨é«˜åˆ†ï¼‰
â””â”€ å…³é”®é£é™©ï¼ˆè‡ªæ€æ„å¿µæ£€æµ‹ï¼‰
```

### 2. éªŒè¯ç­–ç•¥

#### ä¸¥æ ¼éªŒè¯ vs å®½æ¾éªŒè¯

```python
# ä¸¥æ ¼éªŒè¯ï¼šå¿…é¡»å®Œå…¨åŒ¹é…
expected_suicidal_risk = "high"
if actual_risk != expected_suicidal_risk:
    return False  # âŒ å¤±è´¥

# å®½æ¾éªŒè¯ï¼šå…è®¸ä¸€å®šåå·®
expected_severity = "mild"
if actual_severity != expected_severity:
    print("[WARN] è­¦å‘Š...")  # âš ï¸ è­¦å‘Šä½†ä¸å¤±è´¥
    # å› ä¸ºè¾¹ç•Œå€¼å¯èƒ½æœ‰å¤šç§è§£é‡Š
```

#### èŒƒå›´éªŒè¯ vs ç²¾ç¡®åŒ¹é…

```python
# èŒƒå›´éªŒè¯ï¼šå…è®¸ä¸€å®šèŒƒå›´
expected_score_range = (10, 15)
if not (10 <= total_score <= 15):
    return False  # âŒ å¤±è´¥

# ç²¾ç¡®åŒ¹é…ï¼šå¿…é¡»å®Œå…¨ä¸€è‡´
expected_severity = "mild"
if actual_severity != expected_severity:
    print("[WARN] ...")  # âš ï¸ è­¦å‘Šï¼ˆä½†ä¸å¤±è´¥ï¼‰
```

### 3. é”™è¯¯å¤„ç†æµ‹è¯•çš„ç‰¹æ®Šæ€§

```python
# é”™è¯¯å¤„ç†æµ‹è¯•ï¼šæœŸæœ› API è¿”å›é”™è¯¯ï¼Œè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸
result = await assess("invalid_scale", ["0", "1", "2"])

# éªŒè¯ï¼šåº”è¯¥è¿”å›é”™è¯¯å­—å…¸ï¼Œè€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸
if not result.get("success") and "error" in result:
    print("[OK] æ­£ç¡®æ•è·é”™è¯¯")  # âœ… é€šè¿‡
else:
    print("[FAIL] æœªæ­£ç¡®æ•è·é”™è¯¯")  # âŒ å¤±è´¥
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å¦‚ä½•æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹

```python
# æ­¥éª¤ 1: åœ¨æµ‹è¯•ç”¨ä¾‹å­—å…¸ä¸­æ·»åŠ 
PHQ9_TEST_CASES["æ–°ç”¨ä¾‹åç§°"] = {
    "responses": ["0", "1", "2", ...],  # 9 ä¸ªå›ç­”
    "expected_score_range": (min, max),  # é¢„æœŸåˆ†æ•°èŒƒå›´
    "expected_severity": "minimal",      # é¢„æœŸä¸¥é‡åº¦ï¼ˆå¯é€‰ï¼‰
    "expected_suicidal_risk": "low"      # é¢„æœŸè‡ªæ€é£é™©ï¼ˆå¯é€‰ï¼Œä»… PHQ-9ï¼‰
}

# æ­¥éª¤ 2: æµ‹è¯•ä¼šè‡ªåŠ¨è¿è¡Œï¼ˆæ— éœ€é¢å¤–ä»£ç ï¼‰
# å› ä¸º test_phq9() ä¼šéå†æ‰€æœ‰ç”¨ä¾‹
```

### 2. å¦‚ä½•è°ƒè¯•å¤±è´¥çš„æµ‹è¯•

```python
# æ–¹æ³• 1: å¯ç”¨è¯¦ç»†è¾“å‡º
print_result(result, verbose=True)  # æ˜¾ç¤ºæ¯é¢˜åˆ†æ•°

# æ–¹æ³• 2: æ‰“å°å®Œæ•´ç»“æœ
import json
print(json.dumps(result, indent=2, ensure_ascii=False))

# æ–¹æ³• 3: æ£€æŸ¥ä¸­é—´æ­¥éª¤
# åœ¨ validate_result() ä¸­æ·»åŠ æ–­ç‚¹æˆ–æ‰“å°è¯­å¥
```

### 3. å¦‚ä½•æ‰©å±•æµ‹è¯•è¦†ç›–

```python
# æ‰©å±• 1: æ·»åŠ æ›´å¤šè¾¹ç•Œæƒ…å†µ
"è¾¹ç•Œå€¼_10åˆ†": {
    "responses": ["1", "1", "1", "1", "1", "1", "1", "1", "2"],  # æ­£å¥½ 10 åˆ†
    "expected_score_range": (9, 11),
    "expected_severity": "mild"  # æˆ– "moderate"ï¼Œæµ‹è¯•è¾¹ç•Œ
}

# æ‰©å±• 2: æ·»åŠ æ›´å¤šè‡ªç„¶è¯­è¨€å˜ä½“
"è‡ªç„¶è¯­è¨€å˜ä½“_2": {
    "responses": ["å®Œå…¨æ²¡æœ‰", "ä»ä¸", "å¶å°”", ...],  # ä¸­æ–‡å˜ä½“
    "expected_score_range": (0, 27)
}

# æ‰©å±• 3: æ·»åŠ ç»„åˆæµ‹è¯•
"ç»„åˆæµ‹è¯•_é«˜åˆ†+ä½è‡ªæ€": {
    "responses": ["3", "3", "3", "3", "3", "3", "3", "3", "0"],  # 24 åˆ†ï¼ŒItem 9 = 0
    "expected_score_range": (20, 27),
    "expected_severity": "severe",
    "expected_suicidal_risk": "low"  # éªŒè¯é«˜åˆ†ä¸ä¸€å®šæœ‰è‡ªæ€é£é™©
}
```

---

## ğŸ“ æ€»ç»“

### æµ‹è¯•è„šæœ¬çš„æ ¸å¿ƒæµç¨‹

1. **è¾“å…¥è®¾è®¡**ï¼šä½¿ç”¨å­—å…¸ç»“æ„å®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…å«è¾“å…¥å’Œé¢„æœŸç»“æœ
2. **æ•°æ®å¤„ç†**ï¼šè°ƒç”¨ `assess()` APIï¼Œè·å–è¯„ä¼°ç»“æœ
3. **ç»“æœéªŒè¯**ï¼šä½¿ç”¨ `validate_result()` éªŒè¯ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ
4. **æŠ¥å‘Šç”Ÿæˆ**ï¼šæ±‡æ€»æ‰€æœ‰æµ‹è¯•ç»“æœï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

### å…³é”®ç‰¹ç‚¹

- âœ… **æ•°æ®é©±åŠ¨**ï¼šæµ‹è¯•ç”¨ä¾‹ä¸æµ‹è¯•é€»è¾‘åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤
- âœ… **è‡ªåŠ¨åŒ–éªŒè¯**ï¼šè‡ªåŠ¨æ£€æŸ¥ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ
- âœ… **è¯¦ç»†è¾“å‡º**ï¼šæ ¼å¼åŒ–æ˜¾ç¤ºæµ‹è¯•ç»“æœï¼Œä¾¿äºè°ƒè¯•
- âœ… **å¼‚å¸¸å¤„ç†**ï¼šæ•è·å¹¶æŠ¥å‘Šæ‰€æœ‰å¼‚å¸¸æƒ…å†µ
- âœ… **å®Œæ•´è¦†ç›–**ï¼šè¦†ç›–æ­£å¸¸ã€è¾¹ç•Œã€å¼‚å¸¸ä¸‰ç§æƒ…å†µ

### æµ‹è¯•è„šæœ¬çš„ä»·å€¼

1. **éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§**ï¼šç¡®ä¿ API æŒ‰é¢„æœŸå·¥ä½œ
2. **å›å½’æµ‹è¯•**ï¼šä»£ç ä¿®æ”¹åå¿«é€ŸéªŒè¯åŠŸèƒ½æœªç ´å
3. **æ–‡æ¡£ä½œç”¨**ï¼šæµ‹è¯•ç”¨ä¾‹æœ¬èº«å°±æ˜¯ API ä½¿ç”¨ç¤ºä¾‹
4. **è´¨é‡ä¿è¯**ï¼šåœ¨å‘å¸ƒå‰å‘ç°æ½œåœ¨é—®é¢˜

---

**ç¼–å†™æ—¥æœŸ**: 2025-01-XX  
**æœ€åæ›´æ–°**: 2025-01-XX


